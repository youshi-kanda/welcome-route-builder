# ALSOKæ¡ç”¨ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ  - çµ±åˆãƒ‡ãƒ—ãƒ­ã‚¤ã‚¬ã‚¤ãƒ‰

[![Cloudflare Pages](https://img.shields.io/badge/Cloudflare-Pages-orange)](https://pages.cloudflare.com)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.6-blue)](https://www.typescriptlang.org/)
[![React](https://img.shields.io/badge/React-18.3-61dafb)](https://react.dev/)

## ğŸ“‹ ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦

ALSOKæ¡ç”¨ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã¯ã€å¿œå‹Ÿè€…ã®é¢æ¥ã‹ã‚‰æ¡ç”¨ã¾ã§ã‚’ä¸€å…ƒç®¡ç†ã™ã‚‹Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚

### 2ã¤ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         GitHub Repository                                â”‚
â”‚         youshi-kanda/welcome-route-builder              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                          â”‚                               â”‚
â”‚  demo-system ãƒ–ãƒ©ãƒ³ãƒ    â”‚  feature/admin-system        â”‚
â”‚  (å¿œå‹Ÿè€…å‘ã‘UI)          â”‚  (ç®¡ç†ç”»é¢)                   â”‚
â”‚                          â”‚                               â”‚
â”‚  â”œâ”€ index.html          â”‚  â”œâ”€ admin/                   â”‚
â”‚  â”œâ”€ src/                â”‚  â”‚  â”œâ”€ src/                  â”‚
â”‚  â”œâ”€ security-screening  â”‚  â”‚  â”œâ”€ vite.config.ts        â”‚
â”‚  â””â”€ vite.config.ts      â”‚  â”‚  â””â”€ package.json          â”‚
â”‚                          â”‚  â””â”€ DEPLOY.md                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                          â”‚
             â†“                          â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Cloudflare Pages â”‚      â”‚ Cloudflare Pages     â”‚
   â”‚ alsok-demo       â”‚      â”‚ alsok-admin-dashboardâ”‚
   â”‚ (Public)         â”‚      â”‚ (Protected)          â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                          â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ Google Apps Scriptâ”‚
              â”‚ (Backend API)     â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ Google Sheets     â”‚
              â”‚ (Database)        â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤æ–¹æ³•

### 1. å¿œå‹Ÿè€…UIã®ãƒ‡ãƒ—ãƒ­ã‚¤

**ãƒ–ãƒ©ãƒ³ãƒ**: `demo-system`  
**URL**: https://alsok-demo.pages.dev

#### Cloudflare Pagesè¨­å®š
```
Project name: alsok-demo
Production branch: demo-system
Build command: npm install && npm run build
Build output directory: dist
Root directory: /
```

#### ç’°å¢ƒå¤‰æ•°
```
VITE_GAS_API_URL=https://script.google.com/macros/s/YOUR_DEPLOYMENT_ID/exec
NODE_VERSION=20
```

### 2. ç®¡ç†ç”»é¢ã®ãƒ‡ãƒ—ãƒ­ã‚¤

**ãƒ–ãƒ©ãƒ³ãƒ**: `feature/admin-system`  
**URL**: https://alsok-admin-dashboard.pages.dev

#### Cloudflare Pagesè¨­å®š
```
Project name: alsok-admin-dashboard
Production branch: feature/admin-system
Build command: cd admin && npm install && npm run build
Build output directory: admin/dist
Root directory: /
```

#### ç’°å¢ƒå¤‰æ•°
```
VITE_GAS_API_URL=https://script.google.com/macros/s/YOUR_DEPLOYMENT_ID/exec
NODE_VERSION=20
```

è©³ç´°ã¯ [admin/DEPLOY.md](./admin/DEPLOY.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ğŸ”§ ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º

### å¿œå‹Ÿè€…UI
```bash
# ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§
npm install
npm run dev
# http://localhost:5173
```

### ç®¡ç†ç”»é¢
```bash
cd admin
npm install
npm run dev
# http://localhost:3001
```

## ğŸ“¦ ãƒ“ãƒ«ãƒ‰ã¨ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼

### å¿œå‹Ÿè€…UI
```bash
npm run build
npm run preview
```

### ç®¡ç†ç”»é¢
```bash
cd admin
npm run build
npm run preview
```

## ğŸ” ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®š

### ç®¡ç†ç”»é¢ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡

#### Option 1: Cloudflare Accessï¼ˆæ¨å¥¨ï¼‰
1. Cloudflare Dashboard â†’ Zero Trust
2. Access â†’ Applications â†’ Add application
3. Domain: `alsok-admin-dashboard.pages.dev`
4. Policy: Emailèªè¨¼ ã¾ãŸã¯ Google Workspace

#### Option 2: åŸºæœ¬èªè¨¼
ç®¡ç†ç”»é¢ã«ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰èªè¨¼ã‚’å®Ÿè£…ï¼ˆTask 10ã§å®Ÿè£…äºˆå®šï¼‰

## ğŸŒ ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­å®š

### å¿œå‹Ÿè€…UI
```
Cloudflare Pages â†’ Custom domains
Domain: recruit.alsok.co.jp
```

### ç®¡ç†ç”»é¢
```
Cloudflare Pages â†’ Custom domains
Domain: admin-recruit.alsok.co.jp
```

## ğŸ“Š ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°

### Cloudflare Analytics
- ãƒšãƒ¼ã‚¸ãƒ“ãƒ¥ãƒ¼
- ãƒ¦ãƒ‹ãƒ¼ã‚¯ãƒ“ã‚¸ã‚¿ãƒ¼
- ã‚¨ãƒ©ãƒ¼ç‡
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¡ãƒˆãƒªã‚¯ã‚¹

### Google Sheets ãƒ­ã‚°
- å¿œå‹Ÿãƒ‡ãƒ¼ã‚¿
- SMSé€ä¿¡å±¥æ­´
- ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°

## ğŸ”„ CI/CD ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³

### è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤
- `demo-system` ãƒ–ãƒ©ãƒ³ãƒã¸ã®push â†’ å¿œå‹Ÿè€…UIã‚’è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤
- `feature/admin-system` ãƒ–ãƒ©ãƒ³ãƒã¸ã®push â†’ ç®¡ç†ç”»é¢ã‚’è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤

### æ‰‹å‹•ãƒ‡ãƒ—ãƒ­ã‚¤
```bash
# å¿œå‹Ÿè€…UI
npm run pages:deploy

# ç®¡ç†ç”»é¢
cd admin
npm run pages:deploy
```

## ğŸ› ï¸ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼

**å•é¡Œ**: `Cannot find module '@/components/...'`

**è§£æ±ºç­–**:
```bash
# ãƒ‘ã‚¹ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã®ç¢ºèª
cat vite.config.ts
# ã¾ãŸã¯
cat admin/vite.config.ts
```

### CORS ã‚¨ãƒ©ãƒ¼

**å•é¡Œ**: GAS APIã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã‚‹

**è§£æ±ºç­–**:
GASã‚¹ã‚¯ãƒªãƒ—ãƒˆã§é©åˆ‡ãªãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’è¨­å®š:
```javascript
function doGet(e) {
  return ContentService
    .createTextOutput(JSON.stringify(data))
    .setMimeType(ContentService.MimeType.JSON);
}
```

### ç’°å¢ƒå¤‰æ•°ãŒåæ˜ ã•ã‚Œãªã„

**å•é¡Œ**: `VITE_GAS_API_URL` ãŒ undefined

**è§£æ±ºç­–**:
1. Cloudflare Dashboard â†’ Settings â†’ Environment variables
2. å¤‰æ•°ã‚’è¿½åŠ 
3. å†ãƒ‡ãƒ—ãƒ­ã‚¤

## ğŸ“š ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [å¿œå‹Ÿè€…UI README](./README.md)
- [ç®¡ç†ç”»é¢ãƒ‡ãƒ—ãƒ­ã‚¤ã‚¬ã‚¤ãƒ‰](./admin/DEPLOY.md)
- [GAS APIä»•æ§˜](./infra/gas/API_SPEC.md)
- [ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆè¨­è¨ˆ](./spreadsheet-schema.md)

## ğŸ¤ è²¢çŒ®

### ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥
- `main`: æœ¬ç•ªç’°å¢ƒï¼ˆæœªä½¿ç”¨ï¼‰
- `demo-system`: å¿œå‹Ÿè€…UIæœ¬ç•ªç’°å¢ƒ
- `feature/admin-system`: ç®¡ç†ç”»é¢æœ¬ç•ªç’°å¢ƒ
- `feature/*`: æ–°æ©Ÿèƒ½é–‹ç™º

### ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
1. æ©Ÿèƒ½ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ
2. å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ
3. ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
4. PRã‚’ä½œæˆ

## ğŸ“ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

Private - ALSOKå†…éƒ¨ä½¿ç”¨

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

å•é¡ŒãŒç™ºç”Ÿã—ãŸå ´åˆ:
1. [Issues](https://github.com/youshi-kanda/welcome-route-builder/issues)ã§æ¤œç´¢
2. æ–°ã—ã„Issueã‚’ä½œæˆ
3. ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ­ã‚°ã‚’æ·»ä»˜

---

**Last Updated**: 2025-10-11  
**Version**: 1.0.0
